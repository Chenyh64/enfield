\documentclass[paper=a4, fontsize=12pt]{scrartcl}

\usepackage{amsmath}
\usepackage{titlesec}
\titleformat*{\section}{\large\bfseries}
\titleformat*{\subsection}{\large\bfseries}

\begin{document}
	\section{Problem}
	Given a directed graph $G=(V, E)$ and one sequence of constraints $P=(L \times L)^k$ of length $k$, where $L$ is a set of labels and $|L| = |V|$, we want to find a sequence of sequences of adjacent mappings $S=\langle F^1, F^2, \dots, F^k \rangle$ minimizing the total cost, such that all constraints $p_i \in P$ are satisfied by the mapping $F^i_{m_i}$ ($m_i = |F^i|$).
	
	\section{Adjacent Mapping}
	First of all, a mapping is a bijective function $f:V \rightarrow L$ that maps the vertices of $G$ into the labels $L$.
	
	From the definition above, given two mappings $f$ and $f'$, we say that they are adjacent iff there is exactly one edge $(u, v) \in E$ such that $f(u) = f'(v)$, $f(v) = f'(u)$ and $\forall{w \in V\setminus\{u, v\}}(f(w) = f'(w))$.
	
	\section{Constraints}
	A constraint is defined by an ordered pair $(a, b)$ such that $a,b \in L$. We say that a mapping $f$ satisfies a constraint $(a, b)$ iff there is an edge $(u, v) \in E$ such that $f(u)=a$ and $f(v)=b$.
	
	\section{Output}
	We seek a sequence of sequences of adjacent mappings $S=\langle F^1, F^2, \dots, F^k \rangle$, such that its total cost is minimized.
	
	Consider that the operation of transition from one mapping to its adjacent mapping is called swap operation. Each $F^i \in S$ is a sequence of adjacent mappings $\langle f^i_0, f^i_1, \dots, f^i_{m_i} \rangle$ from an initial mapping ($f^i_0$) to a final mapping ($f^i_{m_i}$), that should satisfy the $i$-th constraint. In other words, $m_i-1$ represents the number of swap operations required in order to satisfy constraint $p_i$ from mapping $f^i_0 = f^{i-1}_{m_{i-1}}$ (note that $f^1_0 = f^0$ -- an initial mapping).
	
	Also, given the $i$-th constraint of $P$ $p_i = (a, b)$, if $f^i_{m_i}$ does not satisfy $p_i$, then it should satisfy $p_i'=(b, a)$, using a reverse operation.
	
	The total cost of such sequence	is given by the sum of all swap and reverse operations. Given that the swap and reverse operation costs $C_{swap}$ and $C_{rev}$, respectively, and the function $h$ (Equation \ref{eq:h}), the total cost is (Equation \ref{eq:tcost}):
	
	\begin{equation}
	\label{eq:h}
	h(f, i)=
	\begin{cases}
	0,& \textrm{if $f$ satisfies $p_i$} \\
	C_{rev}&
	\end{cases}
	\end{equation}
	
	\begin{equation}
	\label{eq:tcost}
	C_{total}=\sum_{i=1}^{k}{|F^i| \cdot C_{swap} + h(f^i_{m_i}, i)}
	\end{equation}
\end{document}